var mainMenu = [
	{
		"name": "推荐",//推荐
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},//只需要改动此处参数就能实现图片的布局。要求：同一行left(1)=left(0)+width(0)+11(0,1元素之间的间隔，可以改动)；
			{"icon":"images/happyclass/mainpage/mainpage_05.png",'top':0,'left':450,'width':391, 'height':280},//要求：同一列top(下)=top(上)+height(上)+11（上下元素之间的间隔，可改动）
			{"icon":"images/happyclass/mainpage/mainpage_07.png",'top':0,'left':852,'width':195, 'height':280},
			{"icon":"images/happyclass/mainpage/mainpage_12.png",'top':291,'left':0,'width':214, 'height':138},
			{"icon":"images/happyclass/mainpage/mainpage_14.png",'top':291,'left':225,'width':214, 'height':138},
			{"icon":"images/happyclass/mainpage/mainpage_15.png",'top':291,'left':450,'width':293, 'height':138},
			{"icon":"images/happyclass/mainpage/mainpage_17.png",'top':291,'left':754,'width':293, 'height':138}
		]
	},
	{
		"name": "妈妈课堂",//baby
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/baby/baby_05.png",'top':0,'left':450,'width':340, 'height':280},
			{"icon":"images/happyclass/baby/baby_07.png",'top':0,'left':801,'width':246, 'height':280},
			{"icon":"images/happyclass/baby/baby_13.png",'top':291,'left':0,'width':200, 'height':138},
			{"icon":"images/happyclass/baby/baby_15.png",'top':291,'left':211,'width':228, 'height':138},
			{"icon":"images/happyclass/baby/baby_16.png",'top':291,'left':450,'width':271, 'height':138},
			{"icon":"images/happyclass/baby/baby_18.png",'top':291,'left':732,'width':315, 'height':138}
		]
	},
	{
		"name": "启蒙幼教",//teacher
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/teacher/teacher_05.png",'top':0,'left':450,'width':391, 'height':280},
			{"icon":"images/happyclass/teacher/teacher_07.png",'top':0,'left':852,'width':195, 'height':280},
			{"icon":"images/happyclass/teacher/teacher_13.png",'top':291,'left':0,'width':214, 'height':138},
			{"icon":"images/happyclass/teacher/teacher_15.png",'top':291,'left':225,'width':214, 'height':138},
			{"icon":"images/happyclass/teacher/teacher_16.png",'top':291,'left':450,'width':214, 'height':138},
			{"icon":"images/happyclass/teacher/teacher_18.png",'top':291,'left':675,'width':372, 'height':138}
		]
	},
	{
		"name": "小学",//Primary school
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/Primaryschool/Primaryschool_05.png",'top':0,'left':450,'width':340, 'height':280},
			{"icon":"images/happyclass/Primaryschool/Primaryschool_07.png",'top':0,'left':801,'width':246, 'height':280},
			{"icon":"images/happyclass/Primaryschool/Primaryschool_13.png",'top':291,'left':0,'width':200, 'height':138},
			{"icon":"images/happyclass/Primaryschool/Primaryschool_15.png",'top':291,'left':211,'width':228, 'height':138},
			{"icon":"images/happyclass/Primaryschool/Primaryschool_16.png",'top':291,'left':450,'width':271, 'height':138},
			{"icon":"images/happyclass/Primaryschool/Primaryschool_18.png",'top':291,'left':732,'width':315, 'height':138}
		]
	},
	{
		"name": "中学",//school
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/school/school_05.png",'top':0,'left':450,'width':340, 'height':280},
			{"icon":"images/happyclass/school/school_07.png",'top':0,'left':801,'width':246, 'height':280},
			{"icon":"images/happyclass/school/school_13.png",'top':291,'left':0,'width':200, 'height':138},
			{"icon":"images/happyclass/school/school_15.png",'top':291,'left':211,'width':228, 'height':138},
			{"icon":"images/happyclass/school/school_16.png",'top':291,'left':450,'width':271, 'height':138},
			{"icon":"images/happyclass/school/school_18.png",'top':291,'left':732,'width':315, 'height':138}
		]
	},
	{
		"name": "专区",//zone
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/zone/zone_05.png",'top':0,'left':450,'width':391, 'height':280},
			{"icon":"images/happyclass/zone/zone_07.png",'top':0,'left':852,'width':195, 'height':280},
			{"icon":"images/happyclass/zone/zone_13.png",'top':291,'left':0,'width':214, 'height':138},
			{"icon":"images/happyclass/zone/zone_15.png",'top':291,'left':225,'width':214, 'height':138},
			{"icon":"images/happyclass/zone/zone_16.png",'top':291,'left':450,'width':214, 'height':138},
			{"icon":"images/happyclass/zone/zone_18.png",'top':291,'left':675,'width':372, 'height':138}
		]
	},
	{
		"name": "公开课",//search
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/search/search_05.png",'top':0,'left':450,'width':293, 'height':280},
			{"icon":"images/happyclass/search/search_07.png",'top':0,'left':754,'width':293, 'height':280},
			{"icon":"images/happyclass/search/search_13.png",'top':291,'left':0,'width':214, 'height':138},
			{"icon":"images/happyclass/search/search_15.png",'top':291,'left':225,'width':214, 'height':138},
			{"icon":"images/happyclass/search/search_16.png",'top':291,'left':450,'width':293, 'height':138},
			{"icon":"images/happyclass/search/search_17.png",'top':291,'left':754,'width':293, 'height':138}
		]
	},
	{
		"name": "艺术",//publicclass
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/publicclass/publicclass_05.png",'top':0,'left':450,'width':293, 'height':280},
			{"icon":"images/happyclass/publicclass/publicclass_07.png",'top':0,'left':754,'width':293, 'height':280},
			{"icon":"images/happyclass/publicclass/publicclass_13.png",'top':291,'left':0,'width':214, 'height':138},
			{"icon":"images/happyclass/publicclass/publicclass_15.png",'top':291,'left':225,'width':214, 'height':138},
			{"icon":"images/happyclass/publicclass/publicclass_16.png",'top':291,'left':450,'width':293, 'height':138},
			{"icon":"images/happyclass/publicclass/publicclass_17.png",'top':291,'left':754,'width':293, 'height':138}
		]
	},
	{
		"name": "职教",//art
		"subMenu":[
			{"icon":"images/tm.gif","link":'#','top':0,'left':0,'width':439, 'height':280},
			{"icon":"images/happyclass/art/art_05.png",'top':0,'left':450,'width':293, 'height':280},
			{"icon":"images/happyclass/art/art_07.png",'top':0,'left':754,'width':293, 'height':280},
			{"icon":"images/happyclass/art/art_13.png",'top':291,'left':0,'width':214, 'height':138},
			{"icon":"images/happyclass/art/art_15.png",'top':291,'left':225,'width':214, 'height':138},
			{"icon":"images/happyclass/art/art_16.png",'top':291,'left':450,'width':293, 'height':138},
			{"icon":"images/happyclass/art/art_17.png",'top':291,'left':754,'width':293, 'height':138}
		]
	}

];
function eventInit(_event){
	if (_event.type=='keydown') {
		document.onkeypress=null;
	};
	var code = Event(_event);
	switch(code){
		case "KEY_EXIT":
		case "KEY_BACK": //
			window.location.href = iPanel.eventFrame.portal_url;	
			return false;
			break;
		default:
			break;
	}
}
if(document.onkeypress!==null){
	document.onkeypress = eventInit;
}
document.onkeydown = eventInit; 


function grabEvent(_event){
	if (_event.type=='keydown') {
		document.onkeypress=null;
	};
	var code = Event(_event);
	switch(code){
		case "KEY_UP": //
			contral.clickTop();
			return 0;
			break;
		case "KEY_DOWN": //
			contral.clickDown();
			return 0;
			break;
		case "KEY_LEFT": //
			contral.clickLeft();
			return 0;
			break;
		case "KEY_RIGHT": //
			contral.clickRight();
			return 0;
			break;
		case "KEY_SELECT": //	
			contral.clickSelect();
			return 0;
			break;
		case "EIS_VOD_RERADY_SUCCESS": //
			//$("debugShow").innerText += "-a-"+_event.which;
			audio_control.player.play(0);
			audio_control.player.repeat(65536);//无限循环
			return 0;
			break;
		case "EIS_VOD_PROGRAM_END"://当前流媒体已经播放结束
			 //单曲循环
			//audio_control.player.stop();
			//release();
			//audio_control.player.open(audio_control.player.rtsp_url);
			return 0;
			break;
		default:
			break;
	}
}

window.onload = getHomeData;
//window.onload = init;
function getHomeData(){
	ajax({
		url: serverUrl +"hifiHome/homePage.action?urlCode=hifiyinle_2615&random="+(+new Date().getTime()),
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
			var json = eval("(" + html + ")");
			formatData(json);//绑数据
		},
		onComplete:function(){
			
		},
		onError:function(){ //请求失败后执行[可选]
			
		},
        post:"",  
        timeout:120000  
	});	
	//formatData({});
}
function formatData(_data){
	var datas = _data.data;
	var j=0;
	var k=0,klen=0;
	var len = datas.length;
	//	下面这个for 循环是将本页开头的mainMenu 数据放入
	for(var i=0;i<len;i++){
		if(!!!mainMenu[i]){              //当数据多于mainMenu先前设定的组数时，动态添加组数。
			mainMenu.push({subMenu:[]});
		}
		//mainMenu[i].name = datas[i].name;
		k=1;klen = datas[i].tuList.length;
		j=0;
		for(;k<klen;k++){
			if(!!!mainMenu[i].subMenu[k]){
				mainMenu[i].subMenu.push({});
			}
			mainMenu[i].subMenu[k].name = datas[i].tuList[j]['tu'+j].title;
			mainMenu[i].subMenu[k].icon = imgBasePath + datas[i].tuList[j]['tu'+j].img;
			mainMenu[i].subMenu[k].link = datas[i].tuList[j]['tu'+j].href;
			mainMenu[i].subMenu[k].id = datas[i].tuList[j]['tu'+j].id;
			mainMenu[i].subMenu[k].linkType = datas[i].tuList[j]['tu'+j].linkType;
			j++;
		}
	}
	init();  //初始化页面
}


var menuPos = 0;//菜单位置
var backUrl= '';
function init(){
	menuPos=Q.getInt("menuPos",0);
	initMenuBox();
	contral.init(); 
	if(document.onkeypress!==null){
		document.onkeypress = grabEvent;
	}
	document.onkeydown = grabEvent;              
}
var menuBox = null;
function initMenuBox(){
	menuBox = new showList(9, mainMenu.length, menuPos,100, window);
	menuBox.focusDiv = "menu_focus";
	menuBox.listHigh = 120;
	menuBox.listSign = 1;//左右模式
	menuBox.haveData = function(List){ //List.idPos:对象id,List.dataPos:数据id      
		$("menu_" + List.idPos).style.visibility = "visible";
		$("menu_" + List.idPos).innerText = mainMenu[List.dataPos].name;   
	};
	menuBox.notData  = function(List){
		$("menu_" + List.idPos).style.visibility = "hidden";
		$("menu_" + List.idPos).innerText = "";
	};
	menuBox.startShow();//去掉不移动
	
}
var contral = {
	focusArea : 1,//0:主菜单,1:频道，2:频道内容
	init : function(){
		initMenuBox();
		subMenuObj.init();	
		$("menu_focus").style.opacity = 1;
		$("menu_focus_content").innerText = mainMenu[menuBox.position].name;
	},
	icon : {  // 0 主菜单三个图标
		pos : 0,
		changeFocus : function(_num){  //焦点发生变化，主菜单图标及文字
			this.pos += _num;
			if(this.pos < 0){
				this.pos = 0;
			}else if(this.pos > 1){
				this.pos = 1;
			}
			$("icon_focus").style.background='url(images/happyclass/logo/toplight'+this.pos+'.png) no-repeat';
			$("icon_focus").style.left = 1005 + this.pos*100 +"px";
		},
		focus : function(){
			$("icon_focus").style.opacity = 1;
		},
		blur : function(){
			$("icon_focus").style.opacity = 0;
		},
		doSelect : function(){  //选中后的跳转，设定需要一些预定的数据，后台。
			if(this.pos == 0){
				//location.href = 
			} else {
				//location.href = 
			}
		}
	},
	changeMenu : function(_num){
		var tmpPos = menuBox.position;
		menuBox.changeList(_num);
		$("menu_focus_content").innerText = mainMenu[menuBox.position].name;
		//$('menu_focus').style.background='url(images/happyclass/nav/cloud_'+(menuBox.focusPos+1)+'.png) no-repeat';根据焦点替换menubox图片
		if(tmpPos != menuBox.position) subMenuObj.init();
	},
	clickTop : function(){
         if(this.focusArea == 0){
         
		}else if(this.focusArea == 1){
            this.focusArea=0
        $('menu_focus_content').style.opacity=0.5; 
              this.icon.focus();
		}else if(this.focusArea == 2){
			subMenuObj.changeY(-1);
		}
	},
	clickDown : function(){ 
        if(this.focusArea == 0){
         this.focusArea = 1;
         this.icon.blur();
			$('menu_focus_content').style.opacity=1;
		}else if(this.focusArea == 1){
			this.focusArea = 2;
			$('menu_focus_content').style.opacity=0.5;
			subMenuObj.focus();
		}else if(this.focusArea == 2){
			subMenuObj.changeY(1);
		}
	},
	clickRight : function(){
		if (this.focusArea == 0) {
			this.icon.changeFocus(1);
		} else if(this.focusArea == 1){
			this.changeMenu(1);
		
		}else if(this.focusArea == 2){
			subMenuObj.changeX(1);
		}
	},
	clickLeft : function(){
		if (this.focusArea == 0) {
			this.icon.changeFocus(-1);
		} else if(this.focusArea == 1){
			this.changeMenu(-1);
		}else if(this.focusArea == 2){
			subMenuObj.changeX(-1);
		}
	},
	clickSelect : function(){
		if(this.focusArea == 0){
			this.icon.doSelect();
		}else if(this.focusArea == 1){
			//
		}else if(this.focusArea == 2){
			subMenuObj.onSelect();
		}
	}
}
var subMenuObj = {
	mainPos:0,
	left:0,
	top:0,
	subPos:0,
	clear:function(){
		$("content").innerHTML = "";
		this.subPos = 1;
		this.top = mainMenu[this.mainPos].subMenu[this.subPos].top||0;
		this.left = mainMenu[this.mainPos].subMenu[this.subPos].left||0;
	},
	initAttr:function(){//焦点初始化
		this.updateFocus();
	},
	init:function(){
		subMenuObj.mainPos = menuBox.position;
		this.clear();
		this.render();
	},
	render:function(){
	      	$("content").innerHTML = 
			'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[0].top+'px; left:'+mainMenu[this.mainPos].subMenu[0].left+'px; width:'+mainMenu[this.mainPos].subMenu[0].width+'px; height:'+mainMenu[this.mainPos].subMenu[0].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[0].icon +');"></div>'
			+'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[1].top+'px; left:'+mainMenu[this.mainPos].subMenu[1].left+'px; width:'+mainMenu[this.mainPos].subMenu[1].width+'px; height:'+mainMenu[this.mainPos].subMenu[1].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[1].icon +');"></div>'
			+'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[2].top+'px; left:'+mainMenu[this.mainPos].subMenu[2].left+'px; width:'+mainMenu[this.mainPos].subMenu[2].width+'px; height:'+mainMenu[this.mainPos].subMenu[2].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[2].icon +');"></div>'
			+'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[3].top+'px; left:'+mainMenu[this.mainPos].subMenu[3].left+'px; width:'+mainMenu[this.mainPos].subMenu[3].width+'px; height:'+mainMenu[this.mainPos].subMenu[3].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[3].icon +');"></div>'
			+'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[4].top+'px; left:'+mainMenu[this.mainPos].subMenu[4].left+'px; width:'+mainMenu[this.mainPos].subMenu[4].width+'px; height:'+mainMenu[this.mainPos].subMenu[4].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[4].icon +');"></div>'
			+'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[5].top+'px; left:'+mainMenu[this.mainPos].subMenu[5].left+'px; width:'+mainMenu[this.mainPos].subMenu[5].width+'px; height:'+mainMenu[this.mainPos].subMenu[5].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[5].icon +');"></div>'
			+'<div class="smooth" style="position:absolute; top:'+mainMenu[this.mainPos].subMenu[6].top+'px; left:'+mainMenu[this.mainPos].subMenu[6].left+'px; width:'+mainMenu[this.mainPos].subMenu[6].width+'px; height:'+mainMenu[this.mainPos].subMenu[6].height+'px; background:url('+ mainMenu[this.mainPos].subMenu[6].icon +');"></div>';
		this.updateFocus();
	},
	focus:function(){
		$("content_focus").style.opacity = 1;
		$("content_focus").style.visibility = 'visible';
	},
	blur:function(){
		$("content_focus").style.opacity = 0;
		$("content_focus").style.visibility = 'hidden';
	},
//------------------------
	isBottom:function(){
		return this.top+mainMenu[this.mainPos].subMenu[this.subPos].height+11>429 ? true:false;
	},
	getSubPosX:function(_num){
		for(var i = 0 ; i < mainMenu[this.mainPos].subMenu.length; i++){
			var item = mainMenu[this.mainPos].subMenu[i];
			if(_num>0&&item.left <= this.left && this.left < (item.left + item.width) && item.top <= this.top && this.top < item.top + item.height){
				this.subPos = i;
				this.left = item.left;
				this.top = item.top; 
				return this.subPos;
			}
			if(_num<0&&item.left < this.left && this.left <= (item.left + item.width) && item.top <= this.top && this.top < item.top + item.height){
				this.subPos = i;
				this.left = item.left;
				this.top = item.top; 
				return this.subPos;
			}
		}
	},
	getSubPosY:function(_num){
		for(var i = 0 ; i < mainMenu[this.mainPos].subMenu.length; i++){
			var item = mainMenu[this.mainPos].subMenu[i];
			if(_num>0&&item.left <= this.left && this.left < (item.left + item.width) && item.top <= this.top && this.top < item.top + item.height){
				this.subPos = i;
				this.left = item.left;
				this.top = item.top; 
				return this.subPos;
			}
			if(_num<0&&item.left <= this.left && this.left < (item.left + item.width) && item.top < this.top && this.top <= item.top + item.height){
				this.subPos = i;
				this.left = item.left;
				this.top = item.top; 
				return this.subPos;
			}
		}
	},
	changeX:function(_num){
		if(_num > 0){
			this.left = this.left + mainMenu[this.mainPos].subMenu[this.subPos].width+11;
		}else{ 
			this.left-=11;
		}
		
		if(this.left < 0){//边界
			this.left = 0;
			return 0;
		}else if(this.left>1047 ){//边界
			this.left=this.left-mainMenu[this.mainPos].subMenu[this.subPos].width-11;
			return 0;
		}
		this.getSubPosX(_num);
		this.updateFocus();
	},
	updateFocus:function(){
		var item = mainMenu[this.mainPos].subMenu[this.subPos];
		var focusDiv = $("content_focus");
		var	width=item.width+120;
		var height=item.height+120;
		var	left=item.left+56;
		var top=item.top-70;
		focusDiv.style.width  = width  + "px";
		focusDiv.style.height = height + "px";
		focusDiv.style.left   = left   + "px";
		focusDiv.style.top    = top    + "px";
	},
	changeY:function(_num){
		if(_num < 0 && this.top==0){ //到顶了
			contral.focusArea = 1;
			this.blur();
			$("menu_focus_content").style.opacity = 1;
			return false;
		}else if(_num > 0 && this.isBottom()){//到底了
			return 0;
		}else if(_num > 0){//下移
			this.top = this.top + mainMenu[this.mainPos].subMenu[this.subPos].height+11;
		}else if(_num < 0){//上移
			this.top = this.top -11;
		}
		this.getSubPosY(_num);
		this.updateFocus();
	},
	onSelect:function(){
		var url = mainMenu[menuBox.position].subMenu[this.subPos].link;
		backUrl='index.html?menuPos='+menuBox.position;
		if(url.indexOf('?')>-1){
			url+='&backUrl='+Q.encode(backUrl);
		}else{
			url+='?backUrl='+Q.encode(backUrl);
		}
		location.href = url;
	}
	
};

//------------------------------------------------------------------------------搬代码   没细改。
function release(){
	DVB.stopAV(0);
	media.AV.close();
}

function play_ajax(_audioId){
	ajax({
		url: iPanel.eventFrame.pre_epg_url +"/defaultHD/en/go_authorization.jsp?playType=1&progId="+ _audioId +"&contentType=0&business=1&baseFlag=0",
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
			var json = eval("(" + html + ")");
			var rtsp_url = json.playUrl.split("^")[4];// 与json的数据格式有关吧！
			audio_control.player.open(rtsp_url);
		},
		onComplete:function(){
			
		},
		onError:function(){ //请求失败后执行[可选]
			//showTips.init("tips","t_title|温馨提示","t_content|数据有误!",0);
			//showTips.onEventHandle(grabEvent);//事件接管
		},
        post:"",  
        timeout:20000  
	});	
}

var audio_control={      
	vodid : [4528391,4528391,4528391] //vod id
	,songName : ['魔法城堡(《洛克王国3_圣龙的守护》动画电影主题曲)','魔法城堡(《洛克王国3_圣龙的守护》动画电影主题曲)','魔法城堡(《洛克王国3_圣龙的守护》动画电影主题曲)'] //歌曲名称
	,player : {
		currTime : 0  //作用是什么？记录?
		,rtsp_url : '' //播放地址
		,open : function(_rtsp_url){
			this.rtsp_url=_rtsp_url;
			media.AV.open(_rtsp_url,"VOD");
		}
		,play : function(_model){ //0:歌曲开始播放,1:歌曲暂停后播放
			if(_model == 0)this.currTime = 0;
			media.AV.play();
		}
		,stop : function(){
			media.AV.stop(0);
			this.currTime = 0;
		}
		,repeat : function(num){
			media.AV.repeat(num);//num 大于65535 无限循环
		}
	}
	,ajax_bg_song : function(){
		var i=this.fRandomBy(0,2);//三首随机
		var vodid=this.vodid[i];
		var songName=this.songName[i];

		play_ajax(vodid);
		document.getElementById('bgSong').innerHTML='正在播放: '+songName;
	}
	,fRandomBy : function(under, over){ /**生成指定范围的随机整数*/  //此处只执行case 2 返回0,1,2
	    switch(arguments.length){ 
	        case 1: return parseInt(Math.random()*under+1,10); 
	        case 2: return parseInt(Math.random()*(over-under+1) + under,10);//0,1,2
	        default: return 0; 
	    } 
	} 
};
