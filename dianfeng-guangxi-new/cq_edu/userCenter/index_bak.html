<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<title>用户信息</title>
<style>
.smooth { -webkit-transition-duration:300ms; }
.txt { font-size:22px; color:#ffffff; line-height:35px;}
.txt_2 { font-size:22px; border-radius:20px; text-align:center; line-height:35px;}
</style>
</head>

<body style="background:url(../images/bg.jpg) no-repeat; width:1280px; height:720px; overflow:hidden;">
<div id="loadingDiv" class="smooth" style="position:absolute;top:320px; left:600px; width:80px; height:80px; z-index:10; visibility:hidden;">
	<img src="../images/loading.gif" style="position:absolute; top:0px; left:0px;" />
</div>
<div style="position:absolute; top:50px; left:250px; width:781px; height:532px; background:url(../images/user_info_bg.png)">
	<div style="position:absolute; top:192px; left:33px; width:244px; height:265px;">
		<img id="head_img" src="../images/head_1.png" width="150" height="150" style="position:absolute; top:40px; left:40px;" />
		<div style="position:absolute; top:200px; left:40px; width:150px; height:35px; text-align:center; font-size:22px; line-height:35px; color:#999999;">点击头像可换</div>
		<div id="head_focus" style="position:absolute; top:19px; left:19px; width:192px; height:192px; background:url(../images/head_focus.png); opacity:0;"></div>
	</div>
	<div style="position:absolute; top:200px; left:300px; width:440px; height:265px;">
		<div id="user_card" class="txt" style="position:absolute; top:30px; left:0px; width:440px; height:35px;">智能卡号：9550000002272843</div>
		<div id="user_balance" class="txt" style="position:absolute; top:100px; left:0px; width:440px; height:35px;">账号余额：￥1200</div>
		<div id="user_credit" class="txt" style="position:absolute; top:170px; left:0px; width:440px; height:35px;">签到积分：200</div>
		<div id="btn_0" class="txt_2" style="position:absolute; top:98px; left:220px; width:100px; height:35px; color:#ffffff; border:2px #ffffff solid; ">充值</div>
		<div id="btn_1" class="txt_2" style="position:absolute; top:168px;left:220px; width:100px; height:35px; color:#999999; border:2px #999999 solid; ">签到</div>
	</div>
</div>

<div id="head" class="smooth" style="position:absolute; top:0px; left:0px; width:1280px; height:720px; z-index:3; opacity:0;"> <!--头像弹出层-->
	<div style="position:absolute; top:0px; left:0px; width:1280px; height:720px; background-color:#000000; opacity:0.3;"></div>
	<div style="position:absolute; top:160px; left:0px; width:1280px; height:460px; border-top:2px #ff3631 solid; border-bottom:2px #ff3631 solid; background-color:#000000;">
		<div style="text-align:center; height:80px; line-height:80px; color:#ffffff; font-size:28px; font-weight:bold; border-bottom:2px #202020 solid;">请选择您的头像</div>
		<div id="head_list" style="height:270px; padding-top:80px;">
			<div style="position:absolute; top:100px; left:360px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_0" src="../images/head_1.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div style="position:absolute; top:100px; left:510px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_1" src="../images/head_2.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div style="position:absolute; top:100px; left:660px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_2" src="../images/head_3.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div style="position:absolute; top:100px; left:810px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_3" src="../images/head_4.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			
			<div style="position:absolute; top:250px; left:360px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_4" src="../images/head_5.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div style="position:absolute; top:250px; left:510px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_5" src="../images/head_6.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div style="position:absolute; top:250px; left:660px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_6" src="../images/head_7.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div style="position:absolute; top:250px; left:810px; width:127px; height:127px; background:url(../images/head_bg.png);">
				<img id="head_7" src="../images/head_8.png" width="113" height="113" style="position:absolute; top:7px; left:7px;" />
			</div>
			<div id="cho0se_focus" style="position:absolute; top:91px; left:351px; width:145px; height:145px;">
				<img src="../images/head_focus.png" width="145" height="145" />
			</div>
			<div id="check_focus" class="txt_2" style="position:absolute; top:400px; left:585px; width:120px; height:35px; color:#999999; border:2px #999999 solid; ">确认</div>
		</div>
	</div>
</div>

</body>
<script type="text/javascript" src="../js/keyEvent.js"></script>
<script type="text/javascript" src="../js/lib.js"></script>
<script type="text/javascript" src="../js/param.js"></script>
<script type="text/javascript" src="../js/ajax.js"></script>
<script type="text/javascript">
document.onkeydown = grabEvent;
document.onsystemevent = grabEvent;
function grabEvent(_event){
	var code = Event(_event);
	switch(code){
		case "KEY_UP": //
			control.clickTop();
			return 0;
			break;
		case "KEY_DOWN": //
			control.clickDown();
			return 0;
			break;
		case "KEY_LEFT": //
			control.clickLeft();
			return 0;
			break;
		case "KEY_RIGHT": //
			control.clickRight();
			return 0;
			break;		
		case "KEY_SELECT": //	
			control.clickSelect();
			return 0;
			break;
		case "KEY_EXIT":
		case "KEY_BACK":
			//control.clickDoBack();
			location.href = "../index.html";
			return false;
			break;
		default:
			break;
	}
}

window.onload = init;
function init(){
	control.init();
}

var control = {
	focusArea : 0, //0:btn区域 1:头像 2:头像选择层
	init : function(){
		
	},
	btn : {
		pos : 0,
		init : function(_pos){
			this.pos = !!_pos ? _pos : 0;
			this.focus();
		},
		focus : function(){
			control.focusArea = 0;
			$("btn_"+ this.pos).style.color = "#ffffff";
			$("btn_"+ this.pos).style.borderColor = "#ffffff";
		},
		blur : function(){
			$("btn_"+ this.pos).style.color = "#999999";
			$("btn_"+ this.pos).style.borderColor = "#999999";
		},
		changeFocus : function(_num){
			var prePos = this.pos;
			this.pos += _num;
			if(this.pos < 0){
				this.pos = 0;
				return 0;
			}else if(this.pos > 1){
				this.pos = 1;
				return 0;
			}
			$("btn_"+ prePos).style.color = "#999999";
			$("btn_"+ prePos).style.borderColor = "#999999";
			$("btn_"+ this.pos).style.color = "#ffffff";
			$("btn_"+ this.pos).style.borderColor = "#ffffff";
		},
		clickSelect : function(){
			if(this.pos == 0){
				var returnUrl = location.href;
				location.href = "";
			}else if(this.pos == 1){
				location.href = "";
			}
		}
	},
	choose_head : { 
		init : function(){
			this.show();
		},
		show : function(){
			control.focusArea = 2;
			$("head").style.opacity = 1;
			//this.focus();
		},
		hide : function(){
			$("head").style.opacity = 0;
			this.blur();
		},		
		focus : function(){
			$("check_focus").style.color = "#ffffff";
			$("check_focus").style.borderColor = "#ffffff";
		},
		blur : function(){
			$("check_focus").style.color = "#999999";
			$("check_focus").style.borderColor = "#999999";			
		}
	},
	clickTop : function(){
		if(this.focusArea == 0){
			this.btn.changeFocus(-1);			
		}else if(this.focusArea == 1){
			
		}else if(this.focusArea == 2){
			
		}
	},
	clickDown : function(){
		if(this.focusArea == 0){
			this.btn.changeFocus(1);
		}else if(this.focusArea == 1){
			
		}else if(this.focusArea == 2){
			
		}
	},
	clickLeft : function(){
		if(this.focusArea == 0){
			this.focusArea = 1;
			this.btn.blur();
			$("head_focus").style.opacity = 1;
		}else if(this.focusArea == 1){
			
		}else if(this.focusArea == 2){
			
		}
	},
	clickRight : function(){
		if(this.focusArea == 0){
			
		}else if(this.focusArea == 1){
			$("head_focus").style.opacity = 0;
			this.btn.focus();
		}else if(this.focusArea == 2){
			
		}
	},
	clickSelect : function(){
		if(this.focusArea == 0){
			this.btn.clickSelect();
		}else if(this.focusArea == 1){
			this.choose_head.init();
		}else if(this.focusArea == 2){
			
		}
	}
}
	
</script>
</html>
