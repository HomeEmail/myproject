<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=640, user-scalable=0"/>
<title>circleLoading svg</title>
<style>
* {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

html {
	-ms-touch-action: none;
}

body,ul,li {
	padding: 0;
	margin: 0;
	border: 0;
}
body{
	background-color:#CCCCCC;
	width:640px;
	overflow:hidden;
	font-family:Tahoma, Arial, MingLiU;
}
canvas {
    /**
     * Set transparent to let any other canvases render through
     */
    background-color: transparent;
}
#main{
	padding:20px;
	float:left;
}
#myUsage{
	background-color:#F2F2F2;
	border:1px #fff solid;
	border-radius:10px;
	-webkit-border-radius:10px;
	box-shadow: 0px 0px 5px 1px #bbb;
	-webkit-box-shadow: 0px 0px 5px 1px #bbb;
	padding:20px 10px;
	float:left;
}
.processItem{
	float:left;
	width:289px;
}
.processItemName{
	text-align:center;
	font-size:30px;
	color:#555;
	padding-bottom: 20px;
}
</style>
</head>

<body>
<div id="main">

<div id="myUsage">
	<div class="processItem">
        <svg id="arc" xmlns="http://www.w3.org/2000/svg" version="1.1" width="300" height="300">
		 <!--<path id="test1" style="fill:#e00; stroke:#000; stroke-width:0;" />-->
		<!-- <path id="test2" style="fill:#0a0; stroke:#fff; stroke-width:5;" />
		 <path id="test3" style="fill:#e00; stroke:#fff; stroke-width:5;" />-->
		 Your browser do not support svg, please update your browser!
		</svg>
        <div class="processItemName">Basic Minutes</div>
    </div>
	<!--<div class="processItem">
        
        <div class="processItemName">Intra Minutes</div>
    </div>
	<div class="processItem">
       
        <div class="processItemName">Local Data</div>
    </div>-->
</div>

</div>
</body>
<script>
/**
绘制弧度的方法如下：

椭圆圆弧曲线 A 或 a 
语法是 "A rx ry x-axis-rotation large-arc-flag sweep-flag x y" 共 7 个参数 
rx ，ry 是椭圆弧的半长轴，半短轴长度 
x-axis-rotation 是此段弧所在的椭圆的 x 轴与水平方向的夹角，即 x 轴的旋转角度 
large-arc-flag 和 sweep-flag 决定了椭圆弧的绘制方向，值是 0 或 1 
x,y 是椭圆弧终端坐标 
椭圆圆心是计算出来的，不需要指定 
large-arc-flag 为1 表示大角度弧线，0 代表小角度弧线 
sweep-flag , 1 代表从起点到终点弧线绕椭圆中心顺时针方向，0 代表逆时针方向
**/
var NS='http://www.w3.org/2000/svg';

var arc=document.querySelector('#arc');

	var startAngle=30;
	var endAngle = 270;
	if(startAngle<0||endAngle<0){
		alert('參數有誤');
		exit;
	}
	var cx = 80;
	var cy = 80;
	var r = 80;
	/*var deg2 = 240 + deg1;
	var deg3 = 90 + deg2;*/
	
	var x0 = cx+r*Math.cos(startAngle*Math.PI/180);
	var y0 = cy-r*Math.sin(startAngle*Math.PI/180);
	
	var x1 = cx+r*Math.cos(endAngle*Math.PI/180); 
	var y1 = cy-r*Math.sin(endAngle*Math.PI/180); 
	
	/*var x2 = cx+r*Math.cos(deg2*Math.PI/180); 
	var y2 = cy-r*Math.sin(deg2*Math.PI/180); 
	
	var x3 = cx+r*Math.cos(deg3*Math.PI/180); 
	var y3 = cy-r*Math.sin(deg3*Math.PI/180); */
	var arcAngle=Math.abs(endAngle-startAngle);
	//alert(arcAngle);
	var  largeArcFlag=(arcAngle<=180&&arcAngle>=0) ? 0 : 1
	
	if(arcAngle<360){
		var path1=document.createElementNS(NS,'path');
		path1.setAttribute('fill','#0a0');
		path1.setAttribute('stroke','#0a0');
		path1.setAttribute('stroke-width','0');
	
		x0 = cx+r*Math.cos(startAngle*Math.PI/180);
		y0 = cy-r*Math.sin(startAngle*Math.PI/180);
		
		x1 = cx+r*Math.cos(endAngle*Math.PI/180); 
		y1 = cy-r*Math.sin(endAngle*Math.PI/180); 
		
		var pathVal="M "+cx+" "+cy+" L "+x0+" "+y0+" A "+r+" "+r+" 0 "+largeArcFlag+" 0 "+x1+" "+y1+" Z";
		path1.setAttribute("d",pathVal);
		arc.appendChild(path1);
	} else {
		/*<circle cx="100" cy="50" r="40" stroke="black" stroke-width="2" fill="red"/>*/
		var path1=document.createElementNS(NS,'circle');
		path1.setAttribute('fill','#0a0');
		//path1.setAttribute('stroke','#fff');
		//path1.setAttribute('stroke-width','0');
		path1.setAttribute('cx',cx);
		path1.setAttribute('cy',cy);
		path1.setAttribute('r',r);
		
		arc.appendChild(path1);
	}
	
	var cx = 80;
	var cy = 80;
	var r = 60;
	if(arcAngle<360){
		var path1=document.createElementNS(NS,'path');
		path1.setAttribute('fill','red');
		//path1.setAttribute('stroke','#fff');
		//path1.setAttribute('stroke-width','0');
	
		x0 = cx+r*Math.cos(startAngle*Math.PI/180);
		y0 = cy-r*Math.sin(startAngle*Math.PI/180);
		
		x1 = cx+r*Math.cos(endAngle*Math.PI/180); 
		y1 = cy-r*Math.sin(endAngle*Math.PI/180); 
		
		var pathVal="M "+cx+" "+cy+" L "+x0+" "+y0+" A "+r+" "+r+" 0 "+largeArcFlag+" 0 "+x1+" "+y1+" Z";
		path1.setAttribute("d",pathVal);
		arc.appendChild(path1);
	} else {
		/*<circle cx="100" cy="50" r="40" stroke="black" stroke-width="2" fill="red"/>*/
		var path1=document.createElementNS(NS,'circle');
		path1.setAttribute('fill','#ccc');
		//path1.setAttribute('stroke','#fff');
		//path1.setAttribute('stroke-width','0');
		path1.setAttribute('cx',cx);
		path1.setAttribute('cy',cy);
		path1.setAttribute('r',r);
		
		arc.appendChild(path1);
	}
	var cx = 80;
	var cy = 80;
	var r = 40;
	startAngle=0;
	endAngle=360;
	var arcAngle=Math.abs(endAngle-startAngle);
	if(arcAngle<360){
		var path1=document.createElementNS(NS,'path');
		path1.setAttribute('fill','yellow');
		//path1.setAttribute('stroke','#fff');
		//path1.setAttribute('stroke-width','0');
	
		x0 = cx+r*Math.cos(startAngle*Math.PI/180);
		y0 = cy-r*Math.sin(startAngle*Math.PI/180);
		
		x1 = cx+r*Math.cos(endAngle*Math.PI/180); 
		y1 = cy-r*Math.sin(endAngle*Math.PI/180); 
		
		var pathVal="M "+cx+" "+cy+" L "+x0+" "+y0+" A "+r+" "+r+" 0 "+largeArcFlag+" 0 "+x1+" "+y1+" Z";
		path1.setAttribute("d",pathVal);
		arc.appendChild(path1);
	} else {
		/*<circle cx="100" cy="50" r="40" stroke="black" stroke-width="2" fill="red"/>*/
		var path1=document.createElementNS(NS,'circle');
		path1.setAttribute('fill','yellow');
		//path1.setAttribute('stroke','#fff');
		//path1.setAttribute('stroke-width','0');
		path1.setAttribute('cx',cx);
		path1.setAttribute('cy',cy);
		path1.setAttribute('r',r);
		
		arc.appendChild(path1);
	}
	/*$("#test2").setAttribute("d","M "+cx+","+cy+" L "+x1+","+y1+" A "+r+","+r+" 0 1,0 "+x2+","+y2+" Z");
	$("#test3").setAttribute("d","M "+cx+","+cy+" L "+x2+","+y2+" A "+r+","+r+" 0 0,0 "+x3+","+y3+" Z");*/
	
</script>
</html>
